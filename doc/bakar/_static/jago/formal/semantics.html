<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>semantics</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">semantics</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

<i>AUTHOR</i>

<pre>
Zhi Zhang
Departmnt of Computer and Information Sciences
Kansas State University
zhangzhi@ksu.edu
</pre>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="values.html#"><span class="id" type="library">values</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="environment.html#"><span class="id" type="library">environment</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="util.html#"><span class="id" type="library">util</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="checks.html#"><span class="id" type="library">checks</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab31"></a><h1 class="section">Relational Semantics (big-step)</h1>
 interpret the literal expressions 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="eval_literal"><span class="id" type="definition">eval_literal</span></a> (<span class="id" type="var">l</span>: <a class="idref" href="language.html#literal"><span class="id" type="inductive">literal</span></a>): <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Integer_Literal"><span class="id" type="constructor">Integer_Literal</span></a> <span class="id" type="var">v</span> =&gt; (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <span class="id" type="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Boolean_Literal"><span class="id" type="constructor">Boolean_Literal</span></a> <span class="id" type="var">b</span> =&gt; (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <span class="id" type="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
interpret the binary operators 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a>: <a class="idref" href="language.html#binary_operator"><span class="id" type="inductive">binary_operator</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Eq"><span class="id" type="constructor">Bin_Eq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zeq_bool"><span class="id" type="definition">Zeq_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Equal"><span class="id" type="constructor">Equal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Ne"><span class="id" type="constructor">Bin_Ne</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zneq_bool"><span class="id" type="definition">Zneq_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Not_Equal"><span class="id" type="constructor">Not_Equal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Gt"><span class="id" type="constructor">Bin_Gt</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zgt_bool"><span class="id" type="abbreviation">Zgt_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Greater_Than"><span class="id" type="constructor">Greater_Than</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Ge"><span class="id" type="constructor">Bin_Ge</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Greater_Than_Or_Equal"><span class="id" type="constructor">Greater_Than_Or_Equal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Lt"><span class="id" type="constructor">Bin_Lt</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zlt_bool"><span class="id" type="abbreviation">Zlt_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Less_Than"><span class="id" type="constructor">Less_Than</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Le"><span class="id" type="constructor">Bin_Le</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Less_Than_Or_Equal"><span class="id" type="constructor">Less_Than_Or_Equal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_And"><span class="id" type="constructor">Bin_And</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#And"><span class="id" type="constructor">And</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Or"><span class="id" type="constructor">Bin_Or</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" type="definition">orb</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Or"><span class="id" type="constructor">Or</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Plus"><span class="id" type="constructor">Bin_Plus</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Plus"><span class="id" type="constructor">Plus</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Minus"><span class="id" type="constructor">Bin_Minus</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Minus"><span class="id" type="constructor">Minus</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Mul"><span class="id" type="constructor">Bin_Mul</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Multiply"><span class="id" type="constructor">Multiply</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Bin_Div"><span class="id" type="constructor">Bin_Div</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.BinInt.html#Z.quot"><span class="id" type="definition">Z.quot</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Divide"><span class="id" type="constructor">Divide</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="semantics.html#v3"><span class="id" type="variable">v3</span></a>).<br/>

<br/>
</div>

<div class="doc">
interpret the unary operation 
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> : <a class="idref" href="language.html#unary_operator"><span class="id" type="inductive">unary_operator</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="Unary_Not"><span class="id" type="constructor">Unary_Not</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">b</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" type="definition">negb</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="language.html#Not"><span class="id" type="constructor">Not</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_bin_unique"><span class="id" type="lemma">eval_bin_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="semantics.html#y"><span class="id" type="variable">y</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#y"><span class="id" type="variable">y</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_unary_unique"><span class="id" type="lemma">eval_unary_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">uop</span> <span class="id" type="var">v</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="semantics.html#uop"><span class="id" type="variable">uop</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="semantics.html#uop"><span class="id" type="variable">uop</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="semantics.html#y"><span class="id" type="variable">y</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#y"><span class="id" type="variable">y</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">uop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab32"></a><h2 class="section">Expression semantics</h2>

<div class="paragraph"> </div>

    for binary expression and unary expression, if a run time error 
    is detected in any of its child expressions, then return a run
    time error; for binary expression (e1 op e2), if both e1 and e2 
    are evaluated to some normal value, then run time checks are
    performed according to the checking rules specified for the 
    operator 'op', whenever the check fails (returning false), a run 
    time error is detected and the program is terminated, otherwise, 
    normal binary operation result is returned;

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="eval_expr"><span class="id" type="inductive">eval_expr</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; <a class="idref" href="language.html#expression"><span class="id" type="inductive">expression</span></a> -&gt; <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Literal"><span class="id" type="constructor">eval_E_Literal</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> <span class="id" type="var">s</span> <span class="id" type="var">ast_num</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_literal"><span class="id" type="definition">eval_literal</span></a> <a class="idref" href="semantics.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Literal"><span class="id" type="constructor">E_Literal</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#l"><span class="id" type="variable">l</span></a>) (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Identifier"><span class="id" type="constructor">eval_E_Identifier</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span> <span class="id" type="var">ast_num</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Identifier"><span class="id" type="constructor">E_Identifier</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a>) (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Binary_Operation1"><span class="id" type="constructor">eval_E_Binary_Operation1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e1</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span> <span class="id" type="var">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Binary_Operation"><span class="id" type="constructor">E_Binary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Binary_Operation2"><span class="id" type="constructor">eval_E_Binary_Operation2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e1</span> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Binary_Operation"><span class="id" type="constructor">E_Binary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Binary_Operation3"><span class="id" type="constructor">eval_E_Binary_Operation3</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e1</span> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">v2</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks.html#do_check"><span class="id" type="inductive">do_check</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Binary_Operation"><span class="id" type="constructor">E_Binary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Binary_Operation4"><span class="id" type="constructor">eval_E_Binary_Operation4</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e1</span> <span class="id" type="var">v1</span> <span class="id" type="var">e2</span> <span class="id" type="var">v2</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks.html#do_check"><span class="id" type="inductive">do_check</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Binary_Operation"><span class="id" type="constructor">E_Binary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="semantics.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Unary_Operation1"><span class="id" type="constructor">eval_E_Unary_Operation1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Unary_Operation"><span class="id" type="constructor">E_Unary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_E_Unary_Operation2"><span class="id" type="constructor">eval_E_Unary_Operation2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#E_Unary_Operation"><span class="id" type="constructor">E_Unary_Operation</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab33"></a><h2 class="section">Statement semantics</h2>

<div class="paragraph"> </div>

   in a statement evaluation, whenever a run time error is detected 
   in the evaluation of its sub-statements or sub-component, the 
   evaluation is terminated and return a run time error; otherwise, 
   evaluate the statement into a normal state; 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="eval_stmt"><span class="id" type="inductive">eval_stmt</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; <a class="idref" href="language.html#statement"><span class="id" type="inductive">statement</span></a> -&gt; <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> -&gt; <span class="id" type="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_Assignment1"><span class="id" type="constructor">eval_S_Assignment1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_Assignment"><span class="id" type="constructor">S_Assignment</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_Assignment2"><span class="id" type="constructor">eval_S_Assignment2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">x</span> <span class="id" type="var">s1</span> <span class="id" type="var">ast_num</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_Assignment"><span class="id" type="constructor">S_Assignment</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_Sequence1"><span class="id" type="constructor">eval_S_Sequence1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">c1</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_Sequence"><span class="id" type="constructor">S_Sequence</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="semantics.html#c2"><span class="id" type="variable">c2</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_Sequence2"><span class="id" type="constructor">eval_S_Sequence2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">s</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="semantics.html#c2"><span class="id" type="variable">c2</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_Sequence"><span class="id" type="constructor">S_Sequence</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="semantics.html#c2"><span class="id" type="variable">c2</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_If"><span class="id" type="constructor">eval_S_If</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_If"><span class="id" type="constructor">S_If</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_If_True"><span class="id" type="constructor">eval_S_If_True</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> <span class="id" type="var">s1</span> <span class="id" type="var">ast_num</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_If"><span class="id" type="constructor">S_If</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_If_False"><span class="id" type="constructor">eval_S_If_False</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_If"><span class="id" type="constructor">S_If</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_While_Loop"><span class="id" type="constructor">eval_S_While_Loop</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_While_Loop_True1"><span class="id" type="constructor">eval_S_While_Loop_True1</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> <span class="id" type="var">ast_num</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_While_Loop_True2"><span class="id" type="constructor">eval_S_While_Loop_True2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> <span class="id" type="var">s1</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_S_While_Loop_False"><span class="id" type="constructor">eval_S_While_Loop_False</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">b</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>) (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab34"></a><h1 class="section">Functional Semantics</h1>

<div class="paragraph"> </div>

 for relational semantics of expression and statement, we also 
    provide its corresponding version of functional semantics, and 
    prove that they are semantics equivalent;
    relational semantics encode the formal semantics rules, while
    functional semantics is useful to familiarize oneself with the 
    SPARK 2014 semantics, and validate it experimentally by testing, 
    and it also helps to fix the program if the program exhibits 
    undefined behavior;

<div class="paragraph"> </div>

    Bisimulation between relational and functional semantics are
    proved for the following pairs of evaluations: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> f_eval_binexpr &lt;-&gt; eval_binexpr;

<div class="paragraph"> </div>


</li>
<li> f_eval_unaryexpr &lt;-&gt; eval_unaryexpr;

<div class="paragraph"> </div>


</li>
<li> f_eval_expr &lt;-&gt; eval_expr;

<div class="paragraph"> </div>


</li>
<li> f_eval_stmt &lt;-&gt; eval_stmt;

</li>
</ul>

<div class="paragraph"> </div>

 interpret the binary operation for each binary operator 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="f_eval_bin_expr"><span class="id" type="definition">f_eval_bin_expr</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language.html#binary_operator"><span class="id" type="inductive">binary_operator</span></a>) (<span class="id" type="var">v1</span>: <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a>) (<span class="id" type="var">v2</span>: <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Equal"><span class="id" type="constructor">Equal</span></a> =&gt; <a class="idref" href="values.html#Val.eq"><span class="id" type="definition">Val.eq</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Not_Equal"><span class="id" type="constructor">Not_Equal</span></a> =&gt; <a class="idref" href="values.html#Val.ne"><span class="id" type="definition">Val.ne</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Greater_Than"><span class="id" type="constructor">Greater_Than</span></a> =&gt; <a class="idref" href="values.html#Val.gt"><span class="id" type="definition">Val.gt</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Greater_Than_Or_Equal"><span class="id" type="constructor">Greater_Than_Or_Equal</span></a> =&gt; <a class="idref" href="values.html#Val.ge"><span class="id" type="definition">Val.ge</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Less_Than"><span class="id" type="constructor">Less_Than</span></a> =&gt; <a class="idref" href="values.html#Val.lt"><span class="id" type="definition">Val.lt</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Less_Than_Or_Equal"><span class="id" type="constructor">Less_Than_Or_Equal</span></a> =&gt; <a class="idref" href="values.html#Val.le"><span class="id" type="definition">Val.le</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#And"><span class="id" type="constructor">And</span></a> =&gt; <a class="idref" href="values.html#Val.and"><span class="id" type="definition">Val.and</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Or"><span class="id" type="constructor">Or</span></a> =&gt; <a class="idref" href="values.html#Val.or"><span class="id" type="definition">Val.or</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Plus"><span class="id" type="constructor">Plus</span></a> =&gt; <a class="idref" href="values.html#Val.add"><span class="id" type="definition">Val.add</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Minus"><span class="id" type="constructor">Minus</span></a> =&gt; <a class="idref" href="values.html#Val.sub"><span class="id" type="definition">Val.sub</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Multiply"><span class="id" type="constructor">Multiply</span></a> =&gt; <a class="idref" href="values.html#Val.mul"><span class="id" type="definition">Val.mul</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Divide"><span class="id" type="constructor">Divide</span></a> =&gt; <a class="idref" href="values.html#Val.div"><span class="id" type="definition">Val.div</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
interpret the unary operation 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="f_eval_unary_expr"><span class="id" type="definition">f_eval_unary_expr</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language.html#unary_operator"><span class="id" type="inductive">unary_operator</span></a>) (<span class="id" type="var">v</span>: <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Not"><span class="id" type="constructor">Not</span></a> =&gt; <a class="idref" href="values.html#Val.not"><span class="id" type="definition">Val.not</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab35"></a><h2 class="section">Expression semantics</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

    in functional semantics for expression, it returns either a 
    normal value or a run time error or go abnormal, the run time 
    checks (for example, division by zero check) are encoded inside 
    the semantics;

</div>
<div class="code">
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_expr</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">e</span>: <a class="idref" href="language.html#expression"><span class="id" type="inductive">expression</span></a>): <a class="idref" href="values.html#return_val"><span class="id" type="inductive">return_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#E_Literal"><span class="id" type="constructor">E_Literal</span></a> <span class="id" type="var">_</span> <span class="id" type="var">v</span> =&gt; <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="semantics.html#eval_literal"><span class="id" type="definition">eval_literal</span></a> <span class="id" type="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#E_Identifier"><span class="id" type="constructor">E_Identifier</span></a> <span class="id" type="var">_</span> <span class="id" type="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">x</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#E_Binary_Operation"><span class="id" type="constructor">E_Binary_Operation</span></a> <span class="id" type="var">_</span> <span class="id" type="var">op</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v1</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v2</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="checks.html#f_do_check"><span class="id" type="definition">f_do_check</span></a> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> =&gt; <a class="idref" href="semantics.html#f_eval_bin_expr"><span class="id" type="definition">f_eval_bin_expr</span></a> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> =&gt; <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a> =&gt; <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a> =&gt; <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#E_Unary_Operation"><span class="id" type="constructor">E_Unary_Operation</span></a> <span class="id" type="var">_</span> <span class="id" type="var">op</span> <span class="id" type="var">e</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="semantics.html#f_eval_unary_expr"><span class="id" type="definition">f_eval_unary_expr</span></a> <span class="id" type="var">op</span> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a> =&gt; <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab36"></a><h2 class="section">Statement semantics</h2>

<div class="paragraph"> </div>

   in the functional semantics for statement, 'k' denotes the execution 
   steps, whenever it reaches 0, an untermination state is returned;
   otherwise, it returns either a normal state, or a run time error 
   or an abnormal state; run time checks (for example, division by 
   zero check) are encoded inside the functional semantics;

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_stmt</span> <span class="id" type="var">k</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">c</span>: <a class="idref" href="language.html#statement"><span class="id" type="inductive">statement</span></a>) {<span class="id" type="keyword">struct</span> <span class="id" type="var">k</span>}: <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">k'</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#S_Assignment"><span class="id" type="constructor">S_Assignment</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">x</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">v</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">s1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#S_Sequence"><span class="id" type="constructor">S_Sequence</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">c1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <span class="id" type="var">s1</span> <span class="id" type="var">c2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> =&gt; <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#S_If"><span class="id" type="constructor">S_If</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>) =&gt; <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">s1</span> =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k'</span> <span class="id" type="var">s1</span> (<a class="idref" href="language.html#S_While_Loop"><span class="id" type="constructor">S_While_Loop</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">b</span> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> =&gt; <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>) =&gt; <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
basic lemmas 
<div class="paragraph"> </div>

 for any expression e, if it can be evaluated to v1 and v2 in the
    same state s, then v1 and v2 should be the same; 

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eval_expr_unique"><span class="id" type="lemma">eval_expr_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">h1</span> <span class="id" type="var">h2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h2</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H5</span> <span class="id" type="var">H9</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHe2</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H6</span> <span class="id" type="var">H10</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#eval_bin_unique"><span class="id" type="lemma">eval_bin_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H8</span> <span class="id" type="var">H12</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHe</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H3</span> <span class="id" type="var">H5</span>). <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>, <span class="id" type="var">op0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#eval_unary_unique"><span class="id" type="lemma">eval_unary_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H4</span> <span class="id" type="var">H6</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

    for any expression e evaluated under the state s, if it can be 
    evaluated to a value v with respect to the relational semantics 
    eval_expr, then the result value v should be either a normal 
    value or a run time error;

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eval_expr_state"><span class="id" type="lemma">eval_expr_state</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v0"><span class="id" type="variable">v0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> ?<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="keyword">context</span> [ <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> ] ] =&gt; <span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

    for any statement c starting from the initial state s, if it 
    terminates in a state s' with respect to the relational semantics 
    eval_stmt, then the result state s' should be either a normal 
    state or a run time error. In relational semantics eval_stmt, 
    all statements that can go abnormal are excluded;

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eval_stmt_state"><span class="id" type="lemma">eval_stmt_state</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="keyword">context</span> [ <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> ] ] =&gt; <span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h1 class="section">Bisimulation Between Relational And Functional Semantics</h1>

<div class="paragraph"> </div>

 bisimulation proof between f_eval_binexpr and eval_binexpr:

<div class="paragraph"> </div>

<ul class="doclist">
<li> f_eval_bin_expr_correct

</li>
<li> f_eval_bin_expr_complete

</li>
</ul>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_bin_expr_correct"><span class="id" type="lemma">f_eval_bin_expr_correct</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_bin_expr"><span class="id" type="definition">f_eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;|[|- <a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="language.html#Divide"><span class="id" type="constructor">Divide</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|[|- <a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> ?<span class="id" type="var">op</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.ZArith.Zbool.html#Zeq_bool"><span class="id" type="definition">Zeq_bool</span></a> <span class="id" type="var">n0</span> 0) <span class="id" type="keyword">as</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_bin_expr_complete"><span class="id" type="lemma">f_eval_bin_expr_complete</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_bin_expr"><span class="id" type="inductive">eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_bin_expr"><span class="id" type="definition">f_eval_bin_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="semantics.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
bisimulation proof between f_eval_unaryexpr and eval_unaryexpr: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> f_eval_unary_expr_correct

</li>
<li> f_eval_unary_expr_complete

</li>
</ul>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_unary_expr_correct"><span class="id" type="lemma">f_eval_unary_expr_correct</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_unary_expr"><span class="id" type="definition">f_eval_unary_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v'"><span class="id" type="variable">v'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="semantics.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>; <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_unary_expr_complete"><span class="id" type="lemma">f_eval_unary_expr_complete</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_unary_expr"><span class="id" type="inductive">eval_unary_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="semantics.html#v'"><span class="id" type="variable">v'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_unary_expr"><span class="id" type="definition">f_eval_unary_expr</span></a> <a class="idref" href="semantics.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span> <span class="id" type="var">h1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab38"></a><h2 class="section">Bisimulation between f_eval_expr and eval_expr for expression Semantics</h2>
 a help lemma to prove the theorem: f_eval_expr_correct 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">v0</span> <span class="id" type="var">h1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr</span> <span class="id" type="var">_</span> <span class="id" type="var">e3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr0</span> <span class="id" type="var">_</span> <span class="id" type="var">e4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <span class="id" type="var">IHr</span>. <span class="id" type="tactic">exact</span> <span class="id" type="var">IHr0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="checks.html#f_do_check_correct"><span class="id" type="lemma">f_do_check_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_bin_expr_correct"><span class="id" type="lemma">f_eval_bin_expr_correct</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr</span> <span class="id" type="var">_</span> <span class="id" type="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <span class="id" type="var">IHr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
another help lemma to prove the theorem: f_eval_expr_correct 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">s</span> <span class="id" type="var">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>, <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e4</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_E_Binary_Operation3"><span class="id" type="constructor">eval_E_Binary_Operation3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hz1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">hz2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks.html#f_do_check_correct"><span class="id" type="lemma">f_do_check_correct</span></a>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr0</span> <span class="id" type="var">e4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_E_Binary_Operation2"><span class="id" type="constructor">eval_E_Binary_Operation2</span></a>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exact</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr</span> <span class="id" type="var">e3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHr</span> <span class="id" type="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab39"></a><h3 class="section">f_eval_expr_correct</h3>

<div class="paragraph"> </div>

    for an expression e evaluated under the state s with respect to
    the functional semantics f_eval_expr, whenever it returns a 
    normal value v or terminates in a run time error, 
    the relation between s, e and evaluation result should also be 
    satisfied with respect to the relational semantics 'eval_expr';

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="f_eval_expr_correct"><span class="id" type="lemma">f_eval_expr_correct</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab40"></a><h3 class="section">f_eval_expr_complete</h3>

<div class="paragraph"> </div>

   for any expression e, if it can be evaluated to a value v under
   state s with respect to the relational semantics 'eval_expr', 
   then when we evalute e under the same state s in functional
   semantics 'f_eval_expr', it should return the same result v;

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span>,  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">e</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="environment.html#fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span>  |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">progress</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">progress</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks.html#f_do_check_complete"><span class="id" type="lemma">f_do_check_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_false_hyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">destruct</span> <span class="id" type="var">op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_inv</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Unterminated"><span class="id" type="constructor">S_Unterminated</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>;<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>;<span class="id" type="tactic">subst</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>:<a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<span class="id" type="tactic">subst</span>;<span class="id" type="tactic">simpl</span>;<span class="id" type="tactic">auto</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">invle</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">H</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <span class="id" type="var">_</span>)%<span class="id" type="var">nat</span> |- <span class="id" type="var">_</span> =&gt; (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
a help lemma to prove the theorem: 'f_eval_stmt_complete',
    it means that: for any statement c, starting from initial state s, 
    if it terminates in a normal state s' within k execution steps, 
    then for any k' greater and equal than k, it should also terminate 
    in the same state s';

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">k'</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, (<a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a>)%<span class="id" type="var">nat</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span>); <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>. <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>. <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e2</span>); <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
another help lemma to prove the theorem: 'f_eval_stmt_complete' 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_fixpoint_E"><span class="id" type="lemma">f_eval_stmt_fixpoint_E</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">k'</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>, (<a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a>)%<span class="id" type="var">nat</span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k'"><span class="id" type="variable">k'</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>); <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>); <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHs0</span>; <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHs0</span>; <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e2</span>); <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">e2</span>); <span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">invle</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_inv</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">destrIH</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> (<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#ex"><span class="id" type="inductive">ex</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">k</span> := <span class="id" type="tactic">fresh</span> "k" <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">hk1</span> := <span class="id" type="tactic">fresh</span> "hk" <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">h</span>) <span class="id" type="keyword">as</span> [<span class="id" type="var">k</span> <span class="id" type="var">hk1</span>];<span class="id" type="tactic">try</span> <span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>).<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">kgreater</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">s'</span> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (?<span class="id" type="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">_</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">s'</span> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (<span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">k</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint"><span class="id" type="lemma">f_eval_stmt_fixpoint</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (?<span class="id" type="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">_</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint_E"><span class="id" type="lemma">f_eval_stmt_fixpoint_E</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>:<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="keyword">context</span> [<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> (<span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">k</span>) ?<span class="id" type="var">s</span> ?<span class="id" type="var">p</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (@<a class="idref" href="semantics.html#f_eval_stmt_fixpoint_E"><span class="id" type="lemma">f_eval_stmt_fixpoint_E</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<span class="id" type="tactic">auto</span> <span class="id" type="keyword">with</span> <span class="id" type="var">arith</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">rm_f_eval_expr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> ] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> ?<span class="id" type="var">v</span> |- <span class="id" type="var">_</span> ] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>   <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab41"></a><h2 class="section">Bisimulation between f_eval_stmt and eval_stmt for statement semantics</h2>

<div class="paragraph"> </div>

 a help lemma to prove the theorem: 'f_eval_stmt_complete' 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_correct1"><span class="id" type="lemma">f_eval_stmt_correct1</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_S_If_False"><span class="id" type="constructor">eval_S_If_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">_</span> <span class="id" type="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHs0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#eval_S_While_Loop_False"><span class="id" type="constructor">eval_S_While_Loop_False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">rm_f_eval_stmt</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">s1</span> |- <span class="id" type="var">_</span> ] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_stmt_correct1"><span class="id" type="lemma">f_eval_stmt_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
a help lemma to prove the theorem: 'f_eval_stmt_complete' 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="f_eval_stmt_correct2"><span class="id" type="lemma">f_eval_stmt_correct2</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">p</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_stmt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">e1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs1</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_stmt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">constructor</span> 9.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs0</span> <span class="id" type="var">e2</span>); <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval_expr</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">rm_f_eval</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> ?<span class="id" type="var">v</span> |- <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> |- <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_stmt_correct2"><span class="id" type="lemma">f_eval_stmt_correct2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> ?<span class="id" type="var">k</span> ?<span class="id" type="var">s</span> ?<span class="id" type="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">s1</span> |- <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#f_eval_stmt_correct1"><span class="id" type="lemma">f_eval_stmt_correct1</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab42"></a><h3 class="section">f_eval_stmt_correct</h3>

<div class="paragraph"> </div>

   for any statement c starting from initial state s, if it returns 
   a normal state s' or terminates in a run time error within k steps
   with respect to the functional semantics 'f_eval_stmt', then the 
   relation between s, c and the resulting state should also be 
   satisfied with respect to the relational semantics 'eval_stmt';

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="f_eval_stmt_correct"><span class="id" type="lemma">f_eval_stmt_correct</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rm_f_eval</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab43"></a><h3 class="section">f_eval_stmt_complete</h3>

<div class="paragraph"> </div>

   the reverse direction is also satisfied: for any statement c, 
   whenever it's executed starting from initial state s and return 
   a new state s' with regard to the relational semantics 'eval_stmt', 
   then there should exist a constant k that statement c starting from 
   s will terminate in state s' within k steps with respect to the 
   functional semantics 'f_eval_stmt';

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_rewrite</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">e</span> ?<span class="id" type="var">s'</span> |- <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="environment.html#update"><span class="id" type="definition">update</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="f_eval_stmt_complete"><span class="id" type="lemma">f_eval_stmt_complete</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">c</span> <span class="id" type="var">s'</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;[ <span class="id" type="var">h</span>: <a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> ?<span class="id" type="var">s</span> ?<span class="id" type="var">e</span> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> |- <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> 1%<span class="id" type="var">nat</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">h</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> 1%<span class="id" type="var">nat</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">k</span>); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">k0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">k</span>)); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#eval_stmt_state"><span class="id" type="lemma">eval_stmt_state</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">hz1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">hz2</span> | <span class="id" type="var">hz2</span>]; <span class="id" type="tactic">try</span> <span class="id" type="var">rm_exists</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">k</span>); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> 1%<span class="id" type="var">nat</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">k</span>); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="var">destrIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> (<span class="id" type="var">k0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a><span class="id" type="var">k</span>)); <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_rewrite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="semantics.html#eval_stmt_state"><span class="id" type="lemma">eval_stmt_state</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">hz1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">hz1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">hz2</span> | <span class="id" type="var">hz2</span>]; <span class="id" type="tactic">try</span> <span class="id" type="var">rm_exists</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">kgreater</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">exists</span> 1%<span class="id" type="var">nat</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_rewrite</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab44"></a><h1 class="section">Subprogram Semantics</h1>

<div class="paragraph"> </div>

 In the current SPARK subset, there is no procedure call, 
    so right now we only define the semantics for the main procedure.
    And it can be used to test the tool chain from SPARK source code 
    to Coq evaluation; Later, we will add the procedure call and 
    modify the following procedure semantics;

<div class="paragraph"> </div>

 all declared variables in the same procedure should have unique 
    names; 

<div class="paragraph"> </div>

 relational (eval_decl) and functional (f_eval_decl) semantics for 
    variable declaration;

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_decl"><span class="id" type="inductive">eval_decl</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; <a class="idref" href="language.html#object_declaration"><span class="id" type="record">object_declaration</span></a> -&gt; <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Decl_E"><span class="id" type="constructor">eval_Decl_E</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#initialization_expression"><span class="id" type="projection">initialization_expression</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Decl"><span class="id" type="constructor">eval_Decl</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">v</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#object_name"><span class="id" type="projection">object_name</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#initialization_expression"><span class="id" type="projection">initialization_expression</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_expr"><span class="id" type="inductive">eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_UndefDecl"><span class="id" type="constructor">eval_UndefDecl</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">x</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#object_name"><span class="id" type="projection">object_name</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#initialization_expression"><span class="id" type="projection">initialization_expression</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="values.html#Undefined"><span class="id" type="constructor">Undefined</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_decl</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">d</span>: <a class="idref" href="language.html#object_declaration"><span class="id" type="record">object_declaration</span></a>): <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">x</span> := <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#object_name"><span class="id" type="projection">object_name</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">e</span> := <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language.html#initialization_expression"><span class="id" type="projection">initialization_expression</span></a>) <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">e'</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_expr"><span class="id" type="definition">f_eval_expr</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e'</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Normal"><span class="id" type="constructor">Val_Normal</span></a> <span class="id" type="var">v</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="values.html#Value"><span class="id" type="constructor">Value</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Run_Time_Error"><span class="id" type="constructor">Val_Run_Time_Error</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="values.html#Val_Abnormal"><span class="id" type="constructor">Val_Abnormal</span></a> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="values.html#Undefined"><span class="id" type="constructor">Undefined</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
relational (eval_decls) and functional (f_eval_decls) semantics 
    for a sequence of object declarations;

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="eval_decls"><span class="id" type="inductive">eval_decls</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; (<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language.html#object_declaration"><span class="id" type="record">object_declaration</span></a>) -&gt; <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_EmptyDecls"><span class="id" type="constructor">eval_EmptyDecls</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Decls_E"><span class="id" type="constructor">eval_Decls_E</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">tl</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="semantics.html#tl"><span class="id" type="variable">tl</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Decls"><span class="id" type="constructor">eval_Decls</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">tl</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="semantics.html#tl"><span class="id" type="variable">tl</span></a> <a class="idref" href="semantics.html#s3"><span class="id" type="variable">s3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> (<a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="semantics.html#tl"><span class="id" type="variable">tl</span></a>) <a class="idref" href="semantics.html#s3"><span class="id" type="variable">s3</span></a>.<br/>

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_decls</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">d</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language.html#object_declaration"><span class="id" type="record">object_declaration</span></a>): <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">d'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">tl</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">d'</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">s'</span> =&gt; <a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <span class="id" type="var">s'</span> <span class="id" type="var">tl</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> =&gt; <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
for any initial state s, after executing the declaration d, 
    it either returns a normal state s' or a run time error;
    (for any variable declaration, if its initialization expression 
     fails the run time checks, for example division by zero or overflow, 
     then it returns an exception)

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_decl_state"><span class="id" type="lemma">eval_decl_state</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">d</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">d</span> <span class="id" type="var">s'</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> ?<span class="id" type="var">t1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <span class="id" type="var">_</span> ] =&gt; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">t1</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id" type="keyword">context</span> [ <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">?</span></a><span class="id" type="var">A</span> ] ] =&gt; <span class="id" type="tactic">right</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_decls_state"><span class="id" type="lemma">eval_decls_state</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">tl</span> <span class="id" type="var">s</span> <span class="id" type="var">d</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="semantics.html#tl"><span class="id" type="variable">tl</span></a>) <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">tl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">d</span> <span class="id" type="var">s'</span> <span class="id" type="var">h1</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">h1</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHtl</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">IHtl</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">IH1</span> | <span class="id" type="var">IH1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">IH1</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">v</span> <span class="id" type="var">IH1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">v</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
f_eval_decl completeness and correctness proofs 
<div class="paragraph"> </div>

 bisimulation proof between f_eval_decl and eval_decl: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> f_eval_decl_correct

</li>
<li> f_eval_decl_complete

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_decl_correct"><span class="id" type="lemma">f_eval_decl_correct</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt; <a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">functional</span> <span class="id" type="tactic">induction</span> (<a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <span class="id" type="var">s</span> <span class="id" type="var">d</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">econstructor</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#f_eval_expr_correct1"><span class="id" type="lemma">f_eval_expr_correct1</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">e0</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="semantics.html#f_eval_expr_correct2"><span class="id" type="lemma">f_eval_expr_correct2</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">econstructor</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_decl_complete"><span class="id" type="lemma">f_eval_decl_complete</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decl"><span class="id" type="inductive">eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_expr_complete"><span class="id" type="lemma">f_eval_expr_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
f_eval_decls completeness and correctness proofs 
<div class="paragraph"> </div>

 bisimulation proof between f_eval_decls and eval_decls: 

<div class="paragraph"> </div>

<ul class="doclist">
<li> f_eval_decls_correct

</li>
<li> f_eval_decls_complete

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_decls_correct"><span class="id" type="lemma">f_eval_decls_correct</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">d</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <span class="id" type="var">s</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHd</span> <span class="id" type="var">s0</span> <span class="id" type="var">s'</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHd</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">IH0</span> <span class="id" type="var">IH1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IH0</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decl_correct"><span class="id" type="lemma">f_eval_decl_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_decl"><span class="id" type="definition">f_eval_decl</span></a> <span class="id" type="var">s</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHd</span> <span class="id" type="var">s0</span> <span class="id" type="var">s0</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">IHd</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">IH0</span> <span class="id" type="var">IH1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IH1</span> <span class="id" type="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decl_correct"><span class="id" type="lemma">f_eval_decl_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decl_correct"><span class="id" type="lemma">f_eval_decl_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="f_eval_decls_complete"><span class="id" type="lemma">f_eval_decls_complete</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">d</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decl_complete"><span class="id" type="lemma">f_eval_decl_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decl_complete"><span class="id" type="lemma">f_eval_decl_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
relational and functional semantics for procedure body; 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="eval_proc"><span class="id" type="inductive">eval_proc</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; <a class="idref" href="language.html#procedure_body"><span class="id" type="record">procedure_body</span></a> -&gt; <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Proc_E"><span class="id" type="constructor">eval_Proc_E</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">f</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>.(<a class="idref" href="language.html#procedure_declarative_part"><span class="id" type="projection">procedure_declarative_part</span></a>) <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_proc"><span class="id" type="inductive">eval_proc</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Proc"><span class="id" type="constructor">eval_Proc</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">f</span> <span class="id" type="var">s1</span> <span class="id" type="var">s2</span> <span class="id" type="var">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_decls"><span class="id" type="inductive">eval_decls</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>.(<a class="idref" href="language.html#procedure_declarative_part"><span class="id" type="projection">procedure_declarative_part</span></a>) (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_stmt"><span class="id" type="inductive">eval_stmt</span></a> <a class="idref" href="semantics.html#s2"><span class="id" type="variable">s2</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>.(<a class="idref" href="language.html#procedure_statements"><span class="id" type="projection">procedure_statements</span></a>) <a class="idref" href="semantics.html#s3"><span class="id" type="variable">s3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_proc"><span class="id" type="inductive">eval_proc</span></a> <a class="idref" href="semantics.html#s1"><span class="id" type="variable">s1</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="semantics.html#s3"><span class="id" type="variable">s3</span></a>.<br/>

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_proc</span> <span class="id" type="var">k</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">f</span>: <a class="idref" href="language.html#procedure_body"><span class="id" type="record">procedure_body</span></a>): <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>.(<a class="idref" href="language.html#procedure_declarative_part"><span class="id" type="projection">procedure_declarative_part</span></a>)) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <span class="id" type="var">s'</span> =&gt; <a class="idref" href="semantics.html#f_eval_stmt"><span class="id" type="definition">f_eval_stmt</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <span class="id" type="var">s'</span> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>.(<a class="idref" href="language.html#procedure_statements"><span class="id" type="projection">procedure_statements</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> =&gt; <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="environment.html#S_Abnormal"><span class="id" type="constructor">S_Abnormal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab45"></a><h2 class="section">Main Procedure Evaluation Without Parameters</h2>

<div class="paragraph"> </div>

 relational and functional semantics for main procedure; 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="eval_subprogram"><span class="id" type="inductive">eval_subprogram</span></a>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a> -&gt; <a class="idref" href="language.html#subprogram"><span class="id" type="inductive">subprogram</span></a> -&gt; <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="eval_Procedure"><span class="id" type="constructor">eval_Procedure</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">s'</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_proc"><span class="id" type="inductive">eval_proc</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_subprogram"><span class="id" type="inductive">eval_subprogram</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> (<a class="idref" href="language.html#Procedure"><span class="id" type="constructor">Procedure</span></a> <a class="idref" href="semantics.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a>) <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>

<br/>
<span class="id" type="keyword">Function</span> <span class="id" type="var">f_eval_subprogram</span> <span class="id" type="var">k</span> (<span class="id" type="var">s</span>: <a class="idref" href="environment.html#store"><span class="id" type="definition">store</span></a>) (<span class="id" type="var">f</span>: <a class="idref" href="language.html#subprogram"><span class="id" type="inductive">subprogram</span></a>): <a class="idref" href="environment.html#state"><span class="id" type="inductive">state</span></a> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language.html#Procedure"><span class="id" type="constructor">Procedure</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">f'</span> =&gt; <a class="idref" href="semantics.html#f_eval_proc"><span class="id" type="definition">f_eval_proc</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">f'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab46"></a><h2 class="section">Bisimulation Between Relational And Functional Semantics For Main Procedure</h2>

<div class="paragraph"> </div>

<a name="lab47"></a><h3 class="section">f_eval_subprogram_correct</h3>

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="f_eval_subprogram_correct"><span class="id" type="lemma">f_eval_subprogram_correct</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">k</span> <span class="id" type="var">s</span> <span class="id" type="var">f</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_subprogram"><span class="id" type="definition">f_eval_subprogram</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_subprogram"><span class="id" type="inductive">eval_subprogram</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> (<a class="idref" href="environment.html#S_Normal"><span class="id" type="constructor">S_Normal</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="semantics.html#f_eval_subprogram"><span class="id" type="definition">f_eval_subprogram</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_subprogram"><span class="id" type="inductive">eval_subprogram</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="environment.html#S_Run_Time_Error"><span class="id" type="constructor">S_Run_Time_Error</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">f</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_proc"><span class="id" type="definition">f_eval_proc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#f_eval_decls"><span class="id" type="definition">f_eval_decls</span></a> <span class="id" type="var">s</span> (<a class="idref" href="language.html#procedure_declarative_part"><span class="id" type="projection">procedure_declarative_part</span></a> <span class="id" type="var">p</span>)) <span class="id" type="keyword">as</span> <span class="id" type="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqx</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decls_correct"><span class="id" type="lemma">f_eval_decls_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Heqx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_stmt_correct"><span class="id" type="lemma">f_eval_stmt_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decls_correct"><span class="id" type="lemma">f_eval_decls_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Heqx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_stmt_correct"><span class="id" type="lemma">f_eval_stmt_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decls_correct"><span class="id" type="lemma">f_eval_decls_correct</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqx</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab48"></a><h3 class="section">f_eval_subprogram_complete</h3>

</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="f_eval_subprogram_complete"><span class="id" type="lemma">f_eval_subprogram_complete</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">s</span> <span class="id" type="var">f</span> <span class="id" type="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#eval_subprogram"><span class="id" type="inductive">eval_subprogram</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:'exists'_x_'..'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="semantics.html#f_eval_subprogram"><span class="id" type="definition">f_eval_subprogram</span></a> <a class="idref" href="semantics.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="semantics.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="semantics.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="semantics.html#s'"><span class="id" type="variable">s'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">s</span> <span class="id" type="var">f</span> <span class="id" type="var">s'</span> <span class="id" type="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_subprogram"><span class="id" type="definition">f_eval_subprogram</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="semantics.html#f_eval_proc"><span class="id" type="definition">f_eval_proc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">h</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decls_complete"><span class="id" type="lemma">f_eval_decls_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> 0; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_decls_complete"><span class="id" type="lemma">f_eval_decls_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics.html#f_eval_stmt_complete"><span class="id" type="lemma">f_eval_stmt_complete</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>